(function(){"use strict";var o={4092:function(o,i,r){var e=r(5130),t=r(6768),d=r(4232);const n={id:"app"},u={key:0,class:"create-actions"},a={class:"directory-tree"},l={key:0},s=["onClick"],c=["onClick"],v=["onClick"],E={key:1},h={key:0},b=["onClick"],p=["onClick"],D={key:1},k=["onClick"],y=["onClick"],f={key:0},C=["onClick"],q={key:2},g=["onClick"],m=["onClick"];function S(o,i,r,S,X,A){return(0,t.uX)(),(0,t.CE)("div",n,[i[15]||(i[15]=(0,t.Lk)("nav",{class:"navbar"},[(0,t.Lk)("h1",null,"Exemplo de Hierarquia de Diretórios")],-1)),(0,t.Lk)("button",{onClick:i[0]||(i[0]=(...o)=>A.toggleManageMode&&A.toggleManageMode(...o))},(0,d.v_)(X.isManaging?"Voltar":"Gerenciar Diretórios"),1),X.isManaging?((0,t.uX)(),(0,t.CE)("div",u,[i[13]||(i[13]=(0,t.Lk)("h3",null,"Criar Novo Diretório",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":i[1]||(i[1]=o=>X.novoDiretorio=o),placeholder:"Nome do diretório"},null,512),[[e.Jo,X.novoDiretorio]]),(0,t.Lk)("button",{onClick:i[2]||(i[2]=(...o)=>A.createDirectory&&A.createDirectory(...o))},"Criar Diretório")])):(0,t.Q3)("",!0),(0,t.Lk)("div",a,[(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[i[14]||(i[14]=(0,t.Lk)("span",null,"/",-1)),(0,t.Lk)("ul",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(X.diretorios,(o=>((0,t.uX)(),(0,t.CE)("li",{key:o.id},[(0,t.Lk)("span",null,(0,d.v_)(o.nome),1),X.isManaging?((0,t.uX)(),(0,t.CE)("div",l,[(0,t.Lk)("button",{onClick:i=>A.editarDiretorio(o)},"Editar",8,s),(0,t.Lk)("button",{onClick:i=>A.deleteDirectory(o.id)},"Excluir Diretório",8,c),X.diretorioEditado&&X.diretorioEditado.id===o.id?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:0,"onUpdate:modelValue":i[3]||(i[3]=o=>X.diretorioEditado.nome=o),placeholder:"Novo nome"},null,512)),[[e.Jo,X.diretorioEditado.nome]]):(0,t.Q3)("",!0),X.diretorioEditado&&X.diretorioEditado.id===o.id?((0,t.uX)(),(0,t.CE)("button",{key:1,onClick:i[4]||(i[4]=(...o)=>A.saveEditedDirectory&&A.saveEditedDirectory(...o))},"Salvar Edição")):(0,t.Q3)("",!0),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":i[5]||(i[5]=o=>X.novoSubDiretorio=o),placeholder:"Nome do subdiretório"},null,512),[[e.Jo,X.novoSubDiretorio]]),(0,t.Lk)("button",{onClick:i=>A.createSubDiretorio(o.id)},"Criar Subdiretório",8,v)])):(0,t.Q3)("",!0),o.subDiretorios.length?((0,t.uX)(),(0,t.CE)("ul",E,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.subDiretorios,(r=>((0,t.uX)(),(0,t.CE)("li",{key:r.id},[(0,t.Lk)("span",null,(0,d.v_)(r.nome),1),X.isManaging?((0,t.uX)(),(0,t.CE)("div",h,[(0,t.Lk)("button",{onClick:i=>A.editarSubDiretorio(o.id,r)},"Editar Subdiretório",8,b),X.subDiretorioEditado&&X.subDiretorioEditado.id===r.id?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:0,"onUpdate:modelValue":i[6]||(i[6]=o=>X.subDiretorioEditado.nome=o),placeholder:"Novo nome"},null,512)),[[e.Jo,X.subDiretorioEditado.nome]]):(0,t.Q3)("",!0),X.subDiretorioEditado&&X.subDiretorioEditado.id===r.id?((0,t.uX)(),(0,t.CE)("button",{key:1,onClick:i[7]||(i[7]=(...o)=>A.saveEditedSubDiretorio&&A.saveEditedSubDiretorio(...o))},"Salvar Edição")):(0,t.Q3)("",!0),(0,t.Lk)("button",{onClick:i=>A.deleteSubDiretorio(o.id,r.id)},"Excluir Subdiretório",8,p)])):(0,t.Q3)("",!0),r.arquivos.length||X.isManaging?((0,t.uX)(),(0,t.CE)("ul",D,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.arquivos,(o=>((0,t.uX)(),(0,t.CE)("li",{key:o.id},[(0,t.eW)((0,d.v_)(o.nome)+" ",1),X.isManaging?((0,t.uX)(),(0,t.CE)("button",{key:0,onClick:i=>A.editarArquivo(r.id,o)},"Editar Arquivo",8,k)):(0,t.Q3)("",!0),X.arquivoEditado&&X.arquivoEditado.id===o.id?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:1,"onUpdate:modelValue":i[8]||(i[8]=o=>X.arquivoEditado.nome=o),placeholder:"Novo nome"},null,512)),[[e.Jo,X.arquivoEditado.nome]]):(0,t.Q3)("",!0),X.arquivoEditado&&X.arquivoEditado.id===o.id?((0,t.uX)(),(0,t.CE)("button",{key:2,onClick:i[9]||(i[9]=(...o)=>A.saveEditedArquivo&&A.saveEditedArquivo(...o))},"Salvar Edição")):(0,t.Q3)("",!0),X.isManaging?((0,t.uX)(),(0,t.CE)("button",{key:3,onClick:i=>A.deleteFile(r.id,o.id)},"Excluir Arquivo",8,y)):(0,t.Q3)("",!0)])))),128)),X.isManaging?((0,t.uX)(),(0,t.CE)("li",f,[(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":i[10]||(i[10]=o=>X.novoArquivo=o),placeholder:"Nome do arquivo"},null,512),[[e.Jo,X.novoArquivo]]),(0,t.Lk)("button",{onClick:i=>A.createFileInSubdirectory(o.id,r.id)},"Criar Arquivo",8,C)])):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0)])))),128))])):(0,t.Q3)("",!0),o.arquivos.length?((0,t.uX)(),(0,t.CE)("ul",q,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.arquivos,(r=>((0,t.uX)(),(0,t.CE)("li",{key:r.id},[(0,t.eW)((0,d.v_)(r.nome)+" ",1),X.isManaging?((0,t.uX)(),(0,t.CE)("button",{key:0,onClick:i=>A.editarArquivo(o.id,r)},"Editar Arquivo",8,g)):(0,t.Q3)("",!0),X.arquivoEditado&&X.arquivoEditado.id===r.id?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:1,"onUpdate:modelValue":i[11]||(i[11]=o=>X.arquivoEditado.nome=o),placeholder:"Novo nome"},null,512)),[[e.Jo,X.arquivoEditado.nome]]):(0,t.Q3)("",!0),X.arquivoEditado&&X.arquivoEditado.id===r.id?((0,t.uX)(),(0,t.CE)("button",{key:2,onClick:i[12]||(i[12]=(...o)=>A.saveEditedArquivo&&A.saveEditedArquivo(...o))},"Salvar Edição")):(0,t.Q3)("",!0),X.isManaging?((0,t.uX)(),(0,t.CE)("button",{key:3,onClick:i=>A.deleteFile(o.id,r.id)},"Excluir Arquivo",8,m)):(0,t.Q3)("",!0)])))),128))])):(0,t.Q3)("",!0)])))),128))])])])])])}var X=r(4373);const A=X.A.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"}});var L={getDirectories(){return A.get("/diretorios")},createDirectory(o){return A.post("/diretorios",o)},updateDirectory(o,i){return A.put(`/diretorios/${o}`,i)},deleteDirectory(o){return A.delete(`/diretorios/${o}`)},addFile(o,i){return A.post(`/diretorios/${o}/arquivos`,i)},addFileToSubdirectory(o,i,r){return A.post(`/diretorios/${o}/subdiretorios/${i}/arquivos`,r)},updateSubDirectory(o,i,r){return A.put(`/diretorios/${o}/subdiretorios/${i}`,r)},updateFile(o,i,r){return A.put(`/diretorios/${o}/arquivos/${i}`,r)},deleteFile(o,i){return A.delete(`/diretorios/${o}/arquivos/${i}`)},createSubDirectory(o,i){return A.post(`/diretorios/${o}/subdiretorios`,i)},deleteSubDirectory(o,i){return A.delete(`/diretorios/${o}/subdiretorios/${i}`)}},M={data(){return{diretorios:[],isManaging:!1,novoDiretorio:"",novoSubDiretorio:"",novoArquivo:"",diretorioEditado:null,subDiretorioEditado:null,arquivoEditado:null,diretorioPaiEditadoId:null,diretorioArquivoEditadoId:null}},methods:{fetchDirectories(){L.getDirectories().then((o=>{this.diretorios=o.data.map((o=>({...o,arquivos:o.arquivos||[],subDiretorios:o.subDiretorios||[]})))})).catch((o=>{console.error("Erro ao buscar diretórios:",o)}))},createDirectory(){this.novoDiretorio&&L.createDirectory({nome:this.novoDiretorio}).then((()=>{this.novoDiretorio="",this.fetchDirectories()})).catch((o=>{console.error("Erro ao criar diretório:",o)}))},createSubDiretorio(o){this.novoSubDiretorio&&L.createSubDirectory(o,{nome:this.novoSubDiretorio}).then((()=>{this.novoSubDiretorio="",this.fetchDirectories()})).catch((o=>{console.error("Erro ao criar subdiretório:",o)}))},createFileInSubdirectory(o,i){this.novoArquivo&&L.addFileToSubdirectory(o,i,{nome:this.novoArquivo}).then((()=>{this.novoArquivo="",this.fetchDirectories()})).catch((o=>{console.error("Erro ao criar arquivo no subdiretório:",o)}))},editarSubDiretorio(o,i){this.subDiretorioEditado={...i},this.diretorioPaiEditadoId=o},editarDiretorio(o){this.diretorioEditado={...o}},editarArquivo(o,i){this.arquivoEditado={...i},this.diretorioArquivoEditadoId=o},saveEditedArquivo(){L.updateFile(this.diretorioArquivoEditadoId,this.arquivoEditado.id,{nome:this.arquivoEditado.nome}).then((()=>{this.arquivoEditado=null,this.diretorioArquivoEditadoId=null,this.fetchDirectories()})).catch((o=>{console.error("Erro ao editar arquivo:",o)}))},saveEditedDirectory(){L.updateDirectory(this.diretorioEditado.id,{nome:this.diretorioEditado.nome}).then((()=>{this.diretorioEditado=null,this.fetchDirectories()})).catch((o=>{console.error("Erro ao editar diretório:",o)}))},saveEditedSubDiretorio(){L.updateSubDirectory(this.diretorioPaiEditadoId,this.subDiretorioEditado.id,{nome:this.subDiretorioEditado.nome}).then((()=>{this.subDiretorioEditado=null,this.diretorioPaiEditadoId=null,this.fetchDirectories()})).catch((o=>{console.error("Erro ao editar subdiretório:",o)}))},deleteFile(o,i){L.deleteFile(o,i).then((()=>{this.fetchDirectories()})).catch((o=>{console.error("Erro ao excluir arquivo:",o)}))},deleteSubDiretorio(o,i){L.deleteSubDirectory(o,i).then((()=>{this.fetchDirectories()})).catch((o=>{console.error("Erro ao excluir subdiretório:",o)}))},deleteDirectory(o){L.deleteDirectory(o).then((()=>{this.fetchDirectories(),alert("Diretório excluído com sucesso!")})).catch((o=>{o.response&&409===o.response.status?alert("Não é possível excluir o diretório porque ele contém subdiretórios ou arquivos."):o.response&&404===o.response.status?alert("Diretório não encontrado."):alert("Erro ao excluir o diretório. Tente novamente.")}))},toggleManageMode(){this.isManaging=!this.isManaging}},mounted(){this.fetchDirectories()}},Q=r(1241);const F=(0,Q.A)(M,[["render",S],["__scopeId","data-v-4f1f2610"]]);var x=F;(0,e.Ef)(x).mount("#app")}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var d=i[e]={exports:{}};return o[e].call(d.exports,d,d.exports,r),d.exports}r.m=o,function(){var o=[];r.O=function(i,e,t,d){if(!e){var n=1/0;for(s=0;s<o.length;s++){e=o[s][0],t=o[s][1],d=o[s][2];for(var u=!0,a=0;a<e.length;a++)(!1&d||n>=d)&&Object.keys(r.O).every((function(o){return r.O[o](e[a])}))?e.splice(a--,1):(u=!1,d<n&&(n=d));if(u){o.splice(s--,1);var l=t();void 0!==l&&(i=l)}}return i}d=d||0;for(var s=o.length;s>0&&o[s-1][2]>d;s--)o[s]=o[s-1];o[s]=[e,t,d]}}(),function(){r.n=function(o){var i=o&&o.__esModule?function(){return o["default"]}:function(){return o};return r.d(i,{a:i}),i}}(),function(){r.d=function(o,i){for(var e in i)r.o(i,e)&&!r.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:i[e]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){r.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)}}(),function(){r.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){var o={524:0};r.O.j=function(i){return 0===o[i]};var i=function(i,e){var t,d,n=e[0],u=e[1],a=e[2],l=0;if(n.some((function(i){return 0!==o[i]}))){for(t in u)r.o(u,t)&&(r.m[t]=u[t]);if(a)var s=a(r)}for(i&&i(e);l<n.length;l++)d=n[l],r.o(o,d)&&o[d]&&o[d][0](),o[d]=0;return r.O(s)},e=self["webpackChunkvirtual_file_system"]=self["webpackChunkvirtual_file_system"]||[];e.forEach(i.bind(null,0)),e.push=i.bind(null,e.push.bind(e))}();var e=r.O(void 0,[504],(function(){return r(4092)}));e=r.O(e)})();
//# sourceMappingURL=app.a8e9bd90.js.map